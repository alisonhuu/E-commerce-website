{"version":3,"file":"js/8.9f6b346a.js","mappings":"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","sources":["webpack://finalproject/./src/views/DashboardHome.vue","webpack://finalproject/./src/views/DashboardHome.vue?5021"],"sourcesContent":["<template>\n  <h3>後台管理</h3>\n  <section class=\"my-5\">\n    <div class=\"row row-cols-md-3 row-cols-1\">\n    <div class=\"col\">\n      <div class=\"card border-primary mb-3 shadow\">\n        <div class=\"card-header text-white bg-primary h5 text-center\">訂單數</div>\n        <div class=\"card-body\">\n          <h5 class=\"card-title text-primary h2 text-center\">{{ orders.length }} 筆</h5>\n          <p class=\"card-text text-muted text-end\">統計至 {{ date }}</p>\n        </div>\n      </div>\n    </div>\n    <div class=\"col\">\n      <div class=\"card border-primary mb-3 shadow\">\n        <div class=\"card-header text-white bg-primary h5 text-center\">平均交易金額</div>\n        <div class=\"card-body\">\n          <h5 class=\"card-title text-primary h2 text-center\">{{ $filters.currency(ordersTotal/orders.length) }}</h5>\n          <p class=\"card-text text-muted text-end\">統計至 {{ date }}</p>\n        </div>\n      </div>\n    </div>\n    <div class=\"col\">\n      <div class=\"card border-primary mb-3 shadow\">\n      <div class=\"card-header text-white bg-primary h5 text-center\">營業額</div>\n      <div class=\"card-body\">\n        <h5 class=\"card-title text-primary h2 text-center\">{{ $filters.currency(ordersTotal) }}</h5>\n        <p class=\"card-text text-muted text-end\">統計至 {{ date }}</p>\n      </div>\n      </div>\n    </div>\n  </div>\n  </section>\n  <h5>最新訂單</h5>\n  <div class=\"bg-light border rounded mt-3 border-bottom-0\">\n     <table class=\"table\">\n       <thead>\n         <tr>\n           <th width=\"100\">訂單編號</th>\n           <th width=\"100\" class=\" d-none d-md-table-cell\">購買時間</th>\n           <th width=\"100\">購買人</th>\n           <th width=\"220\">購買品項</th>\n           <th width=\"120\">應付金額</th>\n         </tr>\n       </thead>\n       <tbody>\n         <tr v-for=\"order in orders.slice(0,5)\" :key=\"order.id\">\n           <td class=\"fs-6\">{{ (order.id).substring(3,10) }}</td>\n           <td class=\"d-none d-md-table-cell\">{{ $filters.date(order.create_at) }}</td>\n           <td>{{ order.user.name }}</td>\n           <td>\n             <small v-for=\"item in order.products\" :key=\"item.id\" class=\"d-block\">\n              {{ item.product.title}} x {{item.qty }}\n             </small>\n            </td>\n           <td class=\"text-nowrap\">{{ $filters.currency(order.total) }}</td>\n         </tr>\n       </tbody>\n     </table>\n   </div>\n  <h5 class=\"mt-5\">最新商品</h5>\n  <div class=\"bg-light border rounded mt-3 border-bottom-0\">\n    <table class=\"table\">\n      <thead>\n        <tr>\n          <th width=\"50\">圖片</th>\n          <th width=\"120\">商品名稱</th>\n          <th width=\"100\">原價</th>\n          <th width=\"100\">售價</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"item in products.slice(0,5)\" :key=\"item.id\">\n          <td>\n            <div :style=\"{ backgroundImage: `url(${item.imageUrl})` }\"\n            style=\"height: 50px\" class=\"bg-center\"></div>\n          </td>\n          <td>{{ item.title }}</td>\n          <td>\n            {{ $filters.currency(item.origin_price) }}\n          </td>\n          <td>\n            {{ $filters.currency(item.price) }}\n          </td>\n        </tr>\n      </tbody>\n    </table>\n   </div>\n   <h5 class=\"mt-5\">最新優惠券</h5>\n   <div class=\"bg-light border rounded mt-3 border-bottom-0\">\n    <table class=\"table \">\n        <thead>\n          <tr>\n            <th>名稱</th>\n            <th>優惠碼</th>\n            <th>打折</th>\n            <th>到期日</th>\n          </tr>\n        </thead>\n        <tbody>\n            <tr v-for=\"item in coupons.slice(0,5)\" :key=\"item.id\">\n                <td>{{item.title}}</td>\n                <td>{{item.code}}</td>\n                <td>{{item.percent}}%</td>\n                <td>{{$filters.date(item.due_date)}}</td>\n            </tr>\n        </tbody>\n    </table>\n  </div>\n</template>\n\n<script>\nexport default {\n  data () {\n    return {\n      orders: [],\n      products: [],\n      coupons: []\n    }\n  },\n  created () {\n    this.getOrders()\n    this.getProducts()\n    this.getCoupons()\n  },\n  methods: {\n    getOrders (page = 1) {\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_API_PATH}/admin/orders?page=${page}`\n      this.axios.get(api).then((res) => {\n        this.orders = res.data.orders\n        const totalPages = res.data.pagination.total_pages\n        if (res.data.pagination.has_next) {\n          for (let i = 2; i <= totalPages; i++) {\n            this.getAllOrders(i)\n          }\n        }\n      })\n    },\n    getAllOrders (page) {\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_API_PATH}/admin/orders?page=${page}`\n      this.axios.get(api).then((res) => {\n        this.orders = this.orders.concat(res.data.orders)\n      })\n    },\n    getProducts (page = 1) {\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_API_PATH}/admin/products?page=${page}`\n      this.axios.get(api).then((res) => {\n        this.products = res.data.products\n      })\n    },\n    getCoupons (page = 1) {\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_API_PATH}/admin/coupons?page=${page}`\n      this.axios.get(api).then((res) => {\n        this.coupons = res.data.coupons\n      })\n    }\n  },\n  computed: {\n    date () {\n      const time = new Date()\n      const year = time.getFullYear()\n      const month = time.getMonth() + 1\n      const day = time.getDate()\n      return `${year} 年 ${month} 月 ${day} 日`\n    },\n    ordersTotal () {\n      let total = 0\n      this.orders.forEach(item => {\n        total += item.total\n      })\n      return total\n    }\n  }\n}\n</script>\n","import { render } from \"./DashboardHome.vue?vue&type=template&id=605c0bb0\"\nimport script from \"./DashboardHome.vue?vue&type=script&lang=js\"\nexport * from \"./DashboardHome.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/minahu/Documents/Front-End/GitHub/E-commerce-website/vue-project/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","class","width","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","$data","length","_hoisted_9","$options","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_ctx","currency","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_createElementBlock","_Fragment","slice","order","key","id","_hoisted_26","substring","_hoisted_27","date","create_at","user","name","products","item","product","title","qty","_hoisted_28","total","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","style","backgroundImage","imageUrl","origin_price","price","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","code","percent","due_date","data","orders","coupons","created","this","getOrders","getProducts","getCoupons","methods","page","api","axios","get","then","res","totalPages","pagination","total_pages","has_next","i","getAllOrders","concat","computed","time","Date","year","getFullYear","month","getMonth","day","getDate","ordersTotal","forEach","__exports__","render"],"sourceRoot":""}