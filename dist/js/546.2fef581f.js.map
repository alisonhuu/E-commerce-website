{"version":3,"file":"js/546.2fef581f.js","mappings":"+MAEKA,MAAM,a,SACAA,MAAM,Q,GACNA,MAAM,gD,iBAKEA,MAAM,wC,iBAGPC,EAAAA,EAAAA,GAA4B,KAAzBD,MAAM,gBAAc,S,GAAvBE,G,iBAIAD,EAAAA,EAAAA,GAA0B,KAAvBD,MAAM,cAAY,S,GAArBG,G,iBAOLH,MAAM,8C,SAIdA,MAAM,a,6FA1BXI,EAAAA,EAAAA,IAA6CC,EAAAA,CAAhCC,OAAQC,EAAAA,WAAS,oBAC9BN,EAAAA,EAAAA,GA0BM,MA1BNO,EA0BM,CAzBwBD,EAAAA,GAAGE,OAAS,IAAH,WAArCC,EAAAA,EAAAA,IAuBU,UAvBVC,EAuBU,EAtBNV,EAAAA,EAAAA,GAqBM,MArBNW,EAqBM,gBApBJF,EAAAA,EAAAA,IAmBMG,EAAAA,GAAAA,MAAAA,EAAAA,EAAAA,IAnBgCN,EAAAA,SAARO,K,WAA9BJ,EAAAA,EAAAA,IAmBM,OAnBDV,MAAM,YAAqCe,IAAKD,EAAKE,I,EACxDf,EAAAA,EAAAA,GAcI,KAdDgB,KAAK,eAAgBC,SAAK,YAAUC,EAAAA,WAAWL,EAAKE,KAAE,c,EACvDf,EAAAA,EAAAA,GAYM,OAZAmB,OAAK,SAAAC,gBAAAA,OAA4BP,EAAKQ,cAC5CtB,MAAM,wD,EACJC,EAAAA,EAAAA,GASM,MATNsB,EASM,EARJtB,EAAAA,EAAAA,GAGS,UAHDD,MAAM,iCACXkB,SAAK,YAAOC,EAAAA,eAAeL,EAAKE,KAAE,W,QAGrCf,EAAAA,EAAAA,GAGS,UAHDD,MAAM,sCACXkB,SAAK,YAAOC,EAAAA,UAAUL,IAAI,W,oBAMnCb,EAAAA,EAAAA,GAC2C,KADxCgB,KAAK,eAAgBC,SAAK,YAAUC,EAAAA,WAAWL,EAAKE,KAAE,aACzDhB,MAAM,mB,QAAoBc,EAAKU,OAAK,MACpCvB,EAAAA,EAAAA,GAA6F,IAA7FwB,GAA6F,QAApCC,EAAAA,SAASC,SAASb,EAAKc,QAAK,Q,wBAI7FlB,EAAAA,EAAAA,IAAkD,IAAlDmB,EAA4B,0BAAkB,G,aAMhD,GACEC,OACE,MAAO,CACLC,QAAS,GACTC,WAAW,EACXhB,GAAI,GAER,EACAiB,UACEC,KAAKC,OACP,EACAC,QAAS,CACPC,WAAYrB,GACVkB,KAAKI,QAAQC,KAAM,iBAAgBvB,IACrC,EACAwB,UAAW1B,GACToB,KAAKF,WAAY,EACjB,MAAMS,EAAO,6DACPC,EAAO,CAAEC,WAAY7B,EAAKE,GAAI4B,IAAK,GACzCV,KAAKW,MAAMC,KAAKL,EAAK,CAAEX,KAAMY,IAC1BK,MAAMC,IACLd,KAAKF,WAAY,EACjBE,KAAKe,iBAAiBD,EAAK,SAC3Bd,KAAKgB,QAAQC,KAAK,WAAW,GAEnC,EACAC,eAAgBtC,GACdoB,KAAKF,WAAY,EACjBqB,aAAaC,WAAWxC,GACxBoB,KAAKC,QACLD,KAAKgB,QAAQC,KAAK,cAClBjB,KAAKF,WAAY,CACnB,EACAG,QACED,KAAKlB,GAAK,GACV,IAAK,IAAIuC,EAAI,EAAGA,EAAIF,aAAa5C,OAAQ8C,IACvCrB,KAAKlB,GAAGuB,KAAKc,aAAatC,IAAIwC,IAEhCrB,KAAKsB,gBACP,EACAA,iBACEtB,KAAKH,QAAU,GACfG,KAAKlB,GAAGyC,SAAQ3C,IACd,MAAM4C,EAAcC,KAAKC,MAAMP,aAAaQ,QAAQ/C,IACpDoB,KAAKH,QAAQQ,KAAKmB,EAAY,GAElC,GAEFI,OAAQ,CAAC,UAAW,qB,QC5EtB,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://finalproject/./src/views/UserWishList.vue","webpack://finalproject/./src/views/UserWishList.vue?60c0"],"sourcesContent":["<template>\n<LoadingCom :active=\"isLoading\"></LoadingCom>\n<div class=\"container\">\n  <section class=\"my-4\" v-if=\"id.length > 0\">\n      <div class=\"row row-cols-2 row-cols-md-4 gx-3 gy-5 h-100\">\n        <div class=\"col h-100\" v-for=\"item in product\" :key=\"item.id\">\n          <a href=\"javascript:;\" @click.prevent=\"getProduct(item.id)\">\n            <div :style=\"{ backgroundImage: `url(${item.imageUrl})`}\"\n            class=\"product-img bg-center rounded mb-3 position-relative\">\n              <div class=\"position-absolute bottom-0 end-0 p-1\">\n                <button class=\"btn btn-sm btn-light rounded-4\"\n                  @click.stop=\"removeWishList(item.id)\">\n                  <i class=\"bi bi-trash3\"></i>\n                </button>\n                <button class=\"btn btn-sm btn-light rounded-4 ms-1\"\n                  @click.stop=\"addToCart(item)\">\n                  <i class=\"bi bi-cart\"></i>\n                </button>\n              </div>\n            </div>\n          </a>\n          <a href=\"javascript:;\" @click.prevent=\"getProduct(item.id)\"\n          class=\"h6 link-dark-h\">{{ item.title }}</a>\n          <p class=\"card-text fw-bold text-secondary mt-2 mb-0\">{{ $filters.currency(item.price) }}</p>\n        </div>\n      </div>\n  </section>\n  <p class=\"mb-5 fs-5\" v-else>目前我的最愛是空的，請選擇商品加入。</p>\n</div>\n</template>\n\n<script>\n\nexport default {\n  data () {\n    return {\n      product: [],\n      isLoading: false,\n      id: []\n    }\n  },\n  created () {\n    this.getId()\n  },\n  methods: {\n    getProduct (id) {\n      this.$router.push(`/user/product/${id}`)\n    },\n    addToCart (item) {\n      this.isLoading = true\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_API_PATH}/cart`\n      const cart = { product_id: item.id, qty: 1 }\n      this.axios.post(api, { data: cart })\n        .then((res) => {\n          this.isLoading = false\n          this.PushMessageState(res, '加入購物車')\n          this.emitter.emit('cart-qty')\n        })\n    },\n    removeWishList (item) {\n      this.isLoading = true\n      localStorage.removeItem(item)\n      this.getId()\n      this.emitter.emit('wished-qty')\n      this.isLoading = false\n    },\n    getId () {\n      this.id = []\n      for (let i = 0; i < localStorage.length; i++) {\n        this.id.push(localStorage.key(i))\n      }\n      this.getWishProduct()\n    },\n    getWishProduct () {\n      this.product = []\n      this.id.forEach(item => {\n        const wishProduct = JSON.parse(localStorage.getItem(item))\n        this.product.push(wishProduct)\n      })\n    }\n  },\n  inject: ['emitter', 'PushMessageState']\n}\n</script>\n","import { render } from \"./UserWishList.vue?vue&type=template&id=f88d012e\"\nimport script from \"./UserWishList.vue?vue&type=script&lang=js\"\nexport * from \"./UserWishList.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/minahu/Documents/front-end engineer/GitHub/vue-assignment拷貝/vue-project/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_7","_hoisted_10","_createVNode","_component_LoadingCom","active","$data","_hoisted_1","length","_createElementBlock","_hoisted_2","_hoisted_3","_Fragment","item","key","id","href","onClick","$options","style","backgroundImage","imageUrl","_hoisted_5","title","_hoisted_13","_ctx","currency","price","_hoisted_14","data","product","isLoading","created","this","getId","methods","getProduct","$router","push","addToCart","api","cart","product_id","qty","axios","post","then","res","PushMessageState","emitter","emit","removeWishList","localStorage","removeItem","i","getWishProduct","forEach","wishProduct","JSON","parse","getItem","inject","__exports__","render"],"sourceRoot":""}