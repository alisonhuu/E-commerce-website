{"version":3,"file":"js/628.bda9f287.js","mappings":"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","sources":["webpack://finalproject/./src/views/UserCheckout.vue","webpack://finalproject/./src/views/UserCheckout.vue?0c02"],"sourcesContent":["<template>\n  <LoadingCom :active=\"isLoading\"></LoadingCom>\n  <div class=\"container\">\n    <h4 class=\"text-center\">請確認以下資料是否正確</h4>\n    <h4 class=\"mb-5 font-mirza text-center\">Check</h4>\n    <form class=\"row\" @submit=\"checkout\">\n      <div class=\"col-11 col-md-8 mx-auto\">\n        <span class=\"bg-primary py-2 px-4 fw-bold rounded-top text-light\">購物明細</span>\n        <table class=\"table border border-3 border-primary mt-1 mb-5\">\n        <thead>\n          <tr>\n            <th scope=\"col\" class=\"col-3 col-md-5\">商品</th>\n            <th scope=\"col\">名稱</th>\n            <th class=\"text-nowrap\" scope=\"col\">數量</th>\n            <th scope=\"col\">小計</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"item in order.products\" :key=\"item.id\">\n            <td>\n              <div :style=\"{ backgroundImage: `url(${item.product.imageUrl})`}\"\n              class=\"sm-imgs bg-center\"></div>\n            </td>\n            <td>{{ item.product.title }}</td>\n            <td>{{ item.qty }}</td>\n            <td class=\"text-end\">{{ $filters.currency(item.total) }}</td>\n          </tr>\n        </tbody>\n        <tfoot>\n          <tr>\n            <td colspan=\"3\" class=\"fw-bold text-end\">\n              <p v-if=\"discount\" class=\"text-success\">折扣</p>\n              <p>總金額</p>\n            </td>\n            <td class=\"fw-bold text-end\">\n              <p v-if=\"discount\" class=\"text-success text-nowrap\">- {{ $filters.currency(discount) }}</p>\n              <p class=\"text-nowrap\">{{ $filters.currency(order.total) }}</p>\n            </td>\n          </tr>\n        </tfoot>\n      </table>\n      <span class=\"bg-primary py-2 px-4 fw-bold rounded-top text-light\">收件人資料</span>\n        <table class=\"table border border-3 border-primary mt-1\">\n        <tbody>\n          <tr>\n            <th scope=\"col\">姓名</th>\n            <td>{{ order.user.name }}</td>\n          </tr>\n          <tr>\n            <th scope=\"col\">電話</th>\n            <td>{{ order.user.tel }}</td>\n          </tr>\n          <tr>\n            <th scope=\"col\">Email</th>\n            <td>{{ order.user.email }}</td>\n          </tr>\n          <tr>\n            <th scope=\"col\">地址</th>\n            <td>{{ order.user.address }}</td>\n          </tr>\n          <tr>\n            <th scope=\"col\">備註</th>\n            <td>{{ order.message }}</td>\n          </tr>\n        </tbody>\n      </table>\n        <div class=\"text-end mt-4\">\n          <button type=\"submit\" class=\"btn-shadow btn btn-primary link-light px-4\">\n          確認結帳</button>\n        </div>\n      </div>\n    </form>\n  </div>\n</template>\n\n<script>\nexport default {\n  data () {\n    return {\n      order: { user: {}, products: {} },\n      orderId: '',\n      isLoading: false\n    }\n  },\n  created () {\n    this.orderId = this.$route.params.orderId\n    this.getOrder()\n  },\n  methods: {\n    getOrder () {\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_API_PATH}/order/${this.orderId}`\n      this.axios.get(api).then((res) => {\n        this.order = res.data.order\n      })\n    },\n    checkout () {\n      this.isLoading = true\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_API_PATH}/pay/${this.orderId}`\n      this.axios.post(api).then((res) => {\n        this.isLoading = false\n        this.PushMessageState(res, '付款')\n        this.$router.push('/')\n      })\n    }\n  },\n  computed: {\n    discount () {\n      let originTotal = 0\n      const order = Object.values(this.order.products)\n      order.forEach(data => {\n        originTotal += data.total\n      })\n      return originTotal - this.order.total\n    }\n  },\n  inject: ['emitter', 'PushMessageState']\n}\n</script>\n","import { render } from \"./UserCheckout.vue?vue&type=template&id=3f1669ee\"\nimport script from \"./UserCheckout.vue?vue&type=script&lang=js\"\nexport * from \"./UserCheckout.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/minahu/Documents/front-end engineer/GitHub/E-commerce-website/vue-project/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","scope","colspan","type","_createVNode","_component_LoadingCom","active","$data","_hoisted_1","_hoisted_2","_hoisted_3","onSubmit","$options","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_createElementBlock","_Fragment","products","item","key","id","style","backgroundImage","product","imageUrl","title","qty","_hoisted_8","_ctx","currency","total","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","user","name","_hoisted_18","tel","_hoisted_19","email","_hoisted_20","address","_hoisted_21","message","_hoisted_22","data","order","orderId","isLoading","created","this","$route","params","getOrder","methods","api","axios","get","then","res","checkout","post","PushMessageState","$router","push","computed","discount","originTotal","Object","values","forEach","inject","__exports__","render"],"sourceRoot":""}