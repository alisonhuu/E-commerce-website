"use strict";(self["webpackChunkfinalproject"]=self["webpackChunkfinalproject"]||[]).push([[306],{4306:function(e,s,a){a.r(s),a.d(s,{default:function(){return M}});var l=a(3396),r=a(7139),o=a(9242);const i={class:"container"},m=(0,l._)("h4",{class:"text-center"},"請填寫收件人資料",-1),t=(0,l._)("h4",{class:"mb-4 font-mirza text-center"},"Info",-1),d={class:"row"},u={class:"mb-3"},n=(0,l._)("label",{for:"userName",class:"form-label"},"姓名",-1),c={class:"mb-3"},f=(0,l._)("label",{for:"userTel",class:"form-label"},"電話",-1),b={class:"mb-3"},p=(0,l._)("label",{for:"userMail",class:"form-label"},"Email",-1),h={class:"mb-3"},v=(0,l._)("label",{for:"userAddress",class:"form-label"},"地址",-1),_=(0,l._)("label",{for:"userMessage",class:"form-label"},"備註",-1),g=(0,l._)("div",{class:"text-end mt-5"},[(0,l._)("button",{type:"submit",class:"btn-shadow btn btn-primary link-light px-4"}," 產生訂單")],-1);function V(e,s,a,V,k,x){const W=(0,l.up)("LoadingCom"),w=(0,l.up)("Field"),M=(0,l.up)("ErrorMessage"),y=(0,l.up)("Form");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(W,{active:k.isLoading},null,8,["active"]),(0,l._)("div",i,[m,t,(0,l._)("div",d,[(0,l.Wm)(y,{onSubmit:x.createOrder,class:"col-11 col-md-8 mx-auto shadow p-4 bg-light rounded"},{default:(0,l.w5)((({errors:e})=>[(0,l._)("div",u,[n,(0,l.Wm)(w,{name:"userName",type:"text",class:(0,r.C_)(["form-control",{"is-invalid":e["userName"]}]),label:"姓名",id:"userName",modelValue:k.form.user.name,"onUpdate:modelValue":s[0]||(s[0]=e=>k.form.user.name=e),placeholder:"請輸入姓名",rules:"required"},null,8,["modelValue","class"]),(0,l.Wm)(M,{name:"userName",class:"invalid-feedback"})]),(0,l._)("div",c,[f,(0,l.Wm)(w,{name:"userTel",class:(0,r.C_)(["form-control",{"is-invalid":e["userTel"]}]),label:"電話",id:"userTel",modelValue:k.form.user.tel,"onUpdate:modelValue":s[1]||(s[1]=e=>k.form.user.tel=e),placeholder:"請輸入電話",rules:"numeric|required|min:8"},null,8,["modelValue","class"]),(0,l.Wm)(M,{name:"userTel",class:"invalid-feedback"})]),(0,l._)("div",b,[p,(0,l.Wm)(w,{name:"email",type:"email",class:(0,r.C_)(["form-control",{"is-invalid":e["email"]}]),id:"userMail",modelValue:k.form.user.email,"onUpdate:modelValue":s[2]||(s[2]=e=>k.form.user.email=e),placeholder:"請輸入 Email",rules:"email|required"},null,8,["modelValue","class"]),(0,l.Wm)(M,{name:"email",class:"invalid-feedback"})]),(0,l._)("div",h,[v,(0,l.Wm)(w,{name:"userAddress",type:"text",class:(0,r.C_)(["form-control",{"is-invalid":e["userAddress"]}]),label:"地址",id:"userAddress",modelValue:k.form.user.address,"onUpdate:modelValue":s[3]||(s[3]=e=>k.form.user.address=e),placeholder:"請輸入地址",rules:"required"},null,8,["modelValue","class"]),(0,l.Wm)(M,{name:"userAddress",class:"invalid-feedback"})]),(0,l._)("div",null,[_,(0,l.wy)((0,l._)("textarea",{name:"userMessage",id:"userMessage",rows:"3",class:"form-control","onUpdate:modelValue":s[4]||(s[4]=e=>k.form.message=e)},null,512),[[o.nr,k.form.message]])]),g])),_:1},8,["onSubmit"])])])],64)}a(7658);var k=a(5708),x=(a(6084),{data(){return{form:{user:{name:"",email:"",tel:"",address:""},message:""},isLoading:!1}},methods:{createOrder(){this.isLoading=!0;const e="https://vue3-course-api.hexschool.io/api/alisonhu-api/order",s=this.form;this.axios.post(e,{data:s}).then((e=>{if(this.isLoading=!1,this.PushMessageState(e,"訂單"),e.data.success){const s=e.data.orderId;this.$router.push(`/user/checkout/${s}`)}this.emitter.emit("cart-qty")}))}},inject:["emitter","PushMessageState"],components:{Field:k.gN,Form:k.l0,ErrorMessage:k.Bc}}),W=a(89);const w=(0,W.Z)(x,[["render",V]]);var M=w}}]);
//# sourceMappingURL=306.dff5fc4c.js.map